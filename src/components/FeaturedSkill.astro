---
const { skill, class: className } = Astro.props;
---

<!-- Add min-width and cursor properties -->
<div class={`featured-skill-banner flex flex-col md:flex-row bg-white rounded-lg shadow-xl overflow-hidden min-w-[100px] md:min-w-[600px]
 ${className}`} 
  style="cursor: pointer;">
  <div class="relative w-full md:w-1/3 flex justify-center md:justify-start">
    <img 
      src={skill.icon} 
      alt={skill.name} 
      class="w-24 h-24 md:w-40 md:h-40 object-fit p-4"
    />
  </div>
  
  <div class="p-3 md:p-4 flex-1 flex flex-col justify-between">
    <div>
      <span class="bg-yellow-400 text-black px-2 py-0.5 md:px-3 md:py-1 rounded-full text-xs md:text-sm font-semibold">
        Featured
      </span>
      <h3 class="text-lg md:text-2xl font-bold mb-1 md:mb-2">{skill.name}</h3>
      <p class="text-gray-600 text-sm md:text-base mb-2 md:mb-4 line-clamp-2">{skill.description}</p>
      
      <div class="flex flex-wrap gap-1 md:gap-2 mb-2 md:mb-4">
        {skill.tags.map((tag) => (
          <span class="text-xs md:text-sm px-1.5 py-0.5 md:px-2 md:py-1 rounded-full bg-gray-100 text-gray-700">
            {tag}
          </span>
        ))}
      </div>
    </div>

    <button
      class="w-full bg-red-600 hover:bg-red-700 text-white px-3 py-1.5 md:px-4 md:py-2 rounded-lg transition-colors mt-auto text-sm md:text-base"
      onclick={`showModal('${skill.skill_id}')`}
    >
      Install Skill
    </button>
  </div>
</div>

<!-- Add click handler for the entire card -->
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const featuredCards = document.querySelectorAll('.featured-skill-banner');
    featuredCards.forEach(card => {
      card.addEventListener('click', (e) => {
        // Prevent clicking when user is scrolling
        if (e.target.tagName !== 'BUTTON') {
          // Handle card click - e.g. show details
          const skillId = card.querySelector('button').getAttribute('onclick').match(/'([^']+)'/)[1];
          if (skillId) {
            // Optional: show more details or navigate
          }
        }
      });
    });
  });
</script>